<!-- This HTML file shows how to embed a bubbletree component in a regular HTML page -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../lib/bootstrap.min.css"/>
    <link rel="stylesheet" href="../lib/dataTables.bootstrap4.min.css"/>
    <style>
        
    </style>
</head>
<body>
<button onclick="c.selectData(function(d) { console.info(d); console.info(d.name=='test1'?1:d.name=='test2'?0.5:0); return d.name=='test1'?1:d.name=='test2'?0.5:0; })">Click me to select nodes</button>

<div style="width: 50%; height: 75%; border: red; border-style: dashed;">
    <svg id="bubbletree1"></svg>
</div>
 
<div style="display: flex; flex-direction: row;height: 999px">
    <div style="display: flex; flex-direction: column; width: 30%; border: red; border-style: dashed;">
        <svg id="bubbletree2"></svg>
    </div>
    <div style="display: flex; flex-direction: column; width: 70%; border: red; border-style: dashed;">
        <svg id="bubbletree3"></svg>
    </div>
</div>

<div id="table">
</div>

<div id="list">
</div>

<script src="../lib/d3.v4.min.js"></script>
<script src="../lib/jquery-1.12.4.js"></script>
<script src="../lib/bootstrap.bundle.min.js"></script>
<script src="../lib/jquery.dataTables.min.js"></script>
<script src="../lib/dataTables.bootstrap4.min.js"></script>
<script src="../dist/visualization-components-bundle.js"></script>

<script>

	var data = {
		"name": "clustering", 
		"children": [
			{
				"name": "cluster 1",
 				"children": [
					{
						"name": "sub cluster 1",
						"children": [
							{
								"name": "test1",
								"weight": 3938
							},
							{
            					"name": "test2",
            					"weight": 3812
          					},
          					{
            					"name": "test3",
            					"weight": 6714
          					}
        				]
      				},
      				{
        				"name": "sub cluster 2",
				        "children": [
          					{
					            "name": "test 4",
            					"weight": 3534
          					},
          					{
            					"name": "Test 5",
            					"weight": 5731
          					},
          					{
            					"name": "Test 6",
            					"weight": 7840
          					}
        				]
      				}
      			]
      		},
      		{
				"name": "cluster 2",
            	"weight": 3812
           	},
      		{
				"name": "cluster 3",
            	"weight": 6000
           	}
      	]
	};

    var c = new BubbleTree();
    c.build({
        container: document.getElementById("bubbletree1"),
        data: data,
        handlers: {
            "click": function(d) {
                console.info(">> " + d.data);
            },
            "mouseover": function(d) { console.info("mouseover"); },
            "dblclick": function(d) { console.info("dblclick"); }
        },
        autosize:true,
        showRoot: true,
        selectOnClick: true
    });


    c = new BubbleTree();
    c.build({
        container: document.getElementById("bubbletree2"),
        data: data,
        handlers: {
            "click": function(d) {
                console.info(">> " + d.data);
            },
            "mouseover": function(d) { console.info("mouseover"); },
            "dblclick": function(d) { console.info("dblclick"); }
        },
        selectOnClick: true,
        showRoot: true
    });

    c = new BubbleTree();
    c.build({
        container: document.getElementById("bubbletree3"),
        data: data,
        handlers: {
            "click": function(d) {
                console.info(">> " + d.data);
            },
            "mouseover": function(d) { console.info("mouseover"); },
            "dblclick": function(d) { console.info("dblclick"); }
        },
        selectOnClick: true,
        showRoot: true
    });

    var t = new Table();
    t.build({
        container: document.getElementById("table"),
        striped: true,
        bordered: true,
        selectableRows: true,
        rowClickHandler: function(r) { console.info(r); },
        data: [{ "a":"1", "b":"2" }, { "a":"3", "b":"4" }]
    });

    l = new Table();
    l.build({
        container: document.getElementById("list"),
        striped: true,
        bordered: true,
        selectableRows: true,
        rowClickHandler: function(r) { console.info(r); },
        data: ["element 1", "element 2", "element 3"]
    });

</script>
</body>
</html>